# Adding-Ruby-Furigana-To-Japanese-Lyrics-In-MediaWiki
This is a Python3 script for creating Japanese lyric furigana in MoegirlPedia or any Mediawiki site you want. 

It requires Mecab (http://taku910.github.io/mecab/) to work.

You need to create a text file named "test.txt" in UTF-8 coding and copy the original lyrics there.

You have to modify the prefix and suffix to suit your own need.

In regular MediaWiki you may want to use ``{{ruby|word|read}}``

IMPORTANT NOTICE: 
* ALL THE FURIGANA GENERATED BY THE SCRIPT NEED MANUAL CHECKING.

Since the context info was lost because of the program design, MeCab sometimes cannot generate appropriate furigana.

But it is quite a relief compared to manually adding furigana.

You can copy the generated lyrics from the console.

## The original input in test.txt
```
光をあつめて
夜空の彼方へ

さよならの想い出を
瞳にたたえて　見つめる夢　遠く
壊れてしまう　うたかたのメモリー
寂しさの涙　そっと拭こう

伸ばした手は観覧車　優しくとらえて
目覚めそうな　記憶の欠片
うつむいて　消えてほしいと 祈るけど

君が見つけてくれた この声を
動き出した時計の針
世界はやがて色づいて
プラスティックな 心が輝き出すよ
忘れないで　おぼえていて
いつかまた巡り会える日まで
ずっと
```
## The output in console
* If you familiar with Japanese, you will notice there are a lot errors. So that is why you need to manually correct them.
* For ondoku words it handles well, but kundoku words are not so good (since the context determines their pronunciation).
* And there are unprocessed kanjis, I don't no what is going on there so just correct them manually.
```
{{Photrans|光|ひかり}}をあつめて
{{Photrans|夜空|よぞら}}の{{Photrans|彼方|かなた}}へ

さよならの{{Photrans|想|そう}}い{{Photrans|出|いずる}}を
{{Photrans|瞳|ひとみ}}にたたえて　{{Photrans|見|み}}つめる{{Photrans|夢|ゆめ}}　{{Photrans|遠|とお}}く
{{Photrans|壊|壊}}れてしまう　うたかたのメモリー
{{Photrans|寂|さび}}しさの{{Photrans|涙|なみだ}}　そっと{{Photrans|拭|拭}}こう

{{Photrans|伸|しん}}ばした{{Photrans|手|て}}は{{Photrans|観覧車|かんらんしゃ}}　{{Photrans|優|ゆう}}しくとらえて
{{Photrans|目覚|めざめ}}めそうな　{{Photrans|記憶|きおく}}の{{Photrans|欠片|かけら}}
うつむいて　{{Photrans|消|しょう}}えてほしいと {{Photrans|祈|いの}}るけど

{{Photrans|君|きみ}}が{{Photrans|見|み}}つけてくれた この{{Photrans|声|こえ}}を
{{Photrans|動|どう}}き{{Photrans|出|いずる}}した{{Photrans|時計|とけい}}の{{Photrans|針|はり}}
{{Photrans|世界|せかい}}はやがて{{Photrans|色|いろ}}づいて
プラスティックな {{Photrans|心|こころ}}が{{Photrans|輝|てる}}き{{Photrans|出|いずる}}すよ
{{Photrans|忘|忘}}れないで　おぼえていて
いつかまた{{Photrans|巡|めぐ}}り{{Photrans|会|かい}}える{{Photrans|日|ひ}}まで
ずっと
```
